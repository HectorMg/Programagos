var Composition = require("Composition");

module.exports = function(){
	var CollisionManager = new Composition();

	CollisionManager.players = arguments;
	var collision = function(img,b){
		return (img.components.renderer.image.width > b.components.renderer.vertices.topLeft.x + b.components.transform.position.x
				&& b.components.renderer.vertices.bottomRight.x + b.components.transform.position.x > img.components.transform.position.x
				&& img.components.renderer.image.height + img.components.transform.position.y > b.components.renderer.vertices.topLeft.y + b.components.transform.position.y
				&& b.components.renderer.vertices.bottomRight.y + b.components.transform.position.y > img.components.transform.position.y);
	}

	CollisionManager.update = function(){
		var spell = engine.find("spell");

		if(spell!=null){
			for(var i = 0; i < this.players.length; i++){
				if (collision(this.players[i], spell)){
					console.log("collision");
				}
			}
		}
	}

	return CollisionManager;
}