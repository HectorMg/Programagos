var Composition = require('Composition');
var Transform = require('Transform');
var ImageRenderer = require('ImageRenderer');
var rigidbody = require('Rigidbody');
var characterCollider = require('CharacterCollider');
var CharacterController = require('CharacterController');

var player = new Composition(
	'transform', Transform(100,100),
	'controller', CharacterController,
	'rigidbody', rigidbody,
	'collider', characterCollider,
	'renderer', ImageRenderer("resources/player.png", 1)
);

player.start = function(){
	//Give the player some acceleration down. This is not the best way to do it.
	//Maybe a 'gravity' composition that modifies its base.rigidbody.acceleration.y when not grounded is best.
	//Would need to expose a 'isGrounded' boolean inside a collider composition such as the CharacterCollider.
	//See CharacterController.js for further elaboration on the problem presented by this way of giving gravity.
	this.components.rigidbody.acceleration.y = 100;
}



module.exports = player;
