var Composition = require('Composition');
var Transform = require('Transform');
var ImageRenderer = require('ImageRenderer');
var head = require('head');

var player = new Composition(
	'transform', Transform(100,100),
	'head', head
	//'renderer', ImageRenderer("resources/player.png")
);

player.speed = {x:0,y:0};

player.update = function(timeDelta){
	this.speed.y += 9.81*timeDelta*10;
	this.components.transform.localY += this.speed.y*timeDelta*10;
	if(player.components.transform.localY > 500){
		this.speed.y *=-1;
		this.components.transform.localY = 1000-this.components.transform.localY;
	}
}

player.draw = function(context, timeDelta){
 	//context.clearRect(this.components.transform.x-50, this.components.transform.y-50, 100,100)
 	context.beginPath();
 	context.arc(this.components.transform.x,this.components.transform.y,50,0,2*Math.PI);
 	context.fillStyle="#FF0000";
 	context.fill();
 }

module.exports = player;