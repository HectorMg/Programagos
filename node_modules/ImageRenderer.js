var Composition = require('Composition');
var Canvas = require('Canvas');

module.exports = function(imagePath, zIndex){
	//Create an empty Composition
	var ImageRenderer = new Composition();

	ImageRenderer.canvas = new Canvas();
	ImageRenderer.canvas.setZIndex(zIndex || 0);

	//Create an html image
	ImageRenderer.image = document.createElement('img');
	//Set image src to path
	ImageRenderer.image.src = imagePath;
	
	ImageRenderer.draw = function(context){
		this.canvas.context.clearRect(this.base.transform.x, this.base.transform.y, this.image.width, this.image.height)
		this.canvas.context.drawImage(this.image, this.base.transform.x, this.base.transform.y);
	}

	//Return new Composition
	return ImageRenderer;
}