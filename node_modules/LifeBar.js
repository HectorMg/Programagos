var Composition = require('Composition');
var VertexRenderer = require('VertexRenderer');
var rectangle = require("Rectangle");
var Transform = require("Transform");

module.exports = function(player){
  var LifeBar = new Composition(
    'rendererBack', VertexRenderer(new Vertices(rectangle(new Vec2(-20, -10), new Vec2(20, 10)))),
    'rendererFront', VertexRenderer(new Vertices(rectangle(new Vec2(-17, -7), new Vec2(17, 7))),
    'transform', Transform(0, -20)
  );

  LifeBar.start = function(){
    this.components.transform.parent = player.components.transform;
  }

  return LifeBar;
}
