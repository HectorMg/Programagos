var Composition = require('Composition');

module.exports = function(){

	var TurnManager = new Composition();

	var players = arguments;

	TurnManager.start = function(){
		console.log("starts");
		this.players = players;
		this.activePlayer = 0;

		this.players[0].setActive(true);
		for(var player = 1; player<this.players.length; player++){
			this.players[player].setActive(false);
		}
	}

	TurnManager.nextTurn = function(){
		this.players[this.activePlayer].setActive(false);
		this.activePlayer = (this.activePlayer + 1) % this.players.length;
		this.players[this.activePlayer].setActive(true);
	}

	TurnManager.keydown = function(key){
		if(key==77){
			this.nextTurn();
		}
	}

	return TurnManager;
}
